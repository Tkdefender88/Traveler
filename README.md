# Traveler Camera

## Protocol

### Reset
` 0x56 0x00 0x26 0x00 ` => Reset the device 
Response: ` 0x76 0x00 0x26 0x00 `

### Capture Video
` 0x56 0x00 0x36 0x01 0x00 0x0C ` => Begin Capturing video to the device SD card
Response: ` 0x76 0x00 0x36 0x01 0x00 0x00 `

Video will begin to be written to the device SD card. The camera will record 20 seconds of video before closing the
file. If a longer video is desired periodically prompt the camera board by sending ` 0x56 0x00 0x5A ` before the 20
seconds is elapsed. If any other command is sent the video capture is finished and data is saved to the SD card.
After sending a prompt the camera will respond with ` 0x76 0x00 0x5A `

### Capture Image
` 0x56 0x00 0x36 0x01 0x00 0x05 ` => Capture an image and save it to the device SD card
Response: ` 0x76 0x00 0x36 0x01 0x00 0x00 `

### Read Image Data Length
` 0x56 0x00 0x34 0x01 ` => request the data length of the last captured image after compression
Response: ` 0x76 0x00 0x34 0x00 0x04 0x00 0x00 0xYY 0xYY 0xYY 0xYY `
                                               0xYY = Data Byte for size of image

### Read Image Data
` 0x56 0x00 0x32 0x0C 0x00 0x0A 0xXX 0xXX 0xXX 0xXX 0x00 0x00 0xYY 0xYY 0x00 0x0A ` => request the image data of
    the last captured image after compression
0xXX = data byte for the start address of the image
0xYY = length of image data to send

Response: ` 0x76 0x00 0x32 0x00 0x00 0xFF 0xD8 .... 0xFF 0xD9 0x76 0x00 0x32 0x00 0x00 `

If read all the image data at once, the starta ddress shall be: "00 00 00 00", the length to read is the same as 
what you read from Read Image Data Length has read. The data read starts with "FF D8" and ends with "FF D9". If the 
image data is read in multiple attempts, the first start address should be "00 00 00 00", each time after the start
address shall be the last frame's end address.

### Set Image Resolution
` 0x56 0x00 0x31 0x05 0x00 ` => VGA   (640 x 480)
` 0x56 0x00 0x31 0x05 0x11 ` => QVGA  (320 x 240)
` 0x56 0x00 0x31 0x05 0x22 ` => QQVGA (160 x 120)

Response: ` 0x76 0x00 0x31 0x00 0x00 `

### Set Color Mode
` 0x56 0x00 0x30 0x04 0x00 ` RGB565 Color images
` 0x56 0x00 0x30 0x04 0x01 ` Gray Scale Images

Response: ` 0x76 0x00 0x30 0x00 0x00 `

### Set RTC Time
` 0x56 0x00 0x29 0x05 0xYY 0xYY 0xMM 0xDD 0xHH 0xmm 0xSS` => Set the time on the RTC of the camera
Response ` 0x76 0x00 0x29 0x00`

0xYY Year
0xMM Month
0xDD Day
0xHH Hour
0xmm Minute
0xSS Second

If there is an error where the data received is corrupt or not long enough a response of ` 0x76 0x00 0x29 0xFF ` is
returned as an error response.


## Error Case
If a given command is not recognized by the camera then the camera will ignore the erroneous command and respond
` 0x76 0x00 0xEE `
